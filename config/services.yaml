services:
    _defaults:
        autowire: true
        autoconfigure: true

    # makes classes in src/ available to be used as services
    # this creates a service per class whose id is the fully-qualified class name
    App\:
        resource: '../src/'
        exclude:
            - '../src/Kernel.php'

    App\Dispenser\Application\Command\OpenDispenser\OpenDispenserCommandHandler:
        class: App\Dispenser\Application\Command\OpenDispenser\OpenDispenserCommandHandler
        tags: ['messenger.message_handler']
    
    App\Dispenser\Application\Command\CloseDispenser\CloseDispenserCommandHandler:
        class: App\Dispenser\Application\Command\CloseDispenser\CloseDispenserCommandHandler
        tags: [ 'messenger.message_handler' ]
    
    App\Dispenser\Application\Event\DispenserOpened\StartServiceOnDispenserOpenedEventHandler:
        class: App\Dispenser\Application\Event\DispenserOpened\StartServiceOnDispenserOpenedEventHandler
        tags: [ 'messenger.message_handler' ]
    
    App\Dispenser\Application\Event\DispenserClosed\FinishServiceOnDispenserClosedEventHandler:
        class: App\Dispenser\Application\Event\DispenserClosed\FinishServiceOnDispenserClosedEventHandler
        tags: [ 'messenger.message_handler' ]
